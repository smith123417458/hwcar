(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0317f0c4"],{"1e30":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".carts[data-v-1d624680]{display:none}.arrowIcon[data-v-1d624680],.arrowRotate[data-v-1d624680]{-webkit-transition:all .5s;transition:all .5s}.arrowRotate[data-v-1d624680]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}",""]),t.exports=e},"237c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-lg-10"},[t._m(0),a("button",{staticClass:"btn btn-outline-secondary btn-sm text-left rounded-0 mt-3 mb-5",on:{click:t.showCarts}},[t._v(" 訂單細節 "),a("i",{staticClass:"arrowIcon fal fa-arrow-circle-up ml-1",class:{arrowRotate:t.arrowRotate}})]),a("div",{staticClass:"carts"},[a("table",{staticClass:"table"},[t._m(1),a("tbody",t._l(t.carts.carts,(function(e){return a("tr",{key:e.id},[a("td",[a("img",{staticClass:"img-fluid",attrs:{width:"56",src:e.product.imageUrl,alt:""}})]),a("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.product.title)+" "),e.final_total!==e.total?a("p",{staticClass:"text-success m-0"},[t._v("已套用優惠券")]):t._e()]),a("td",{staticClass:"text-right align-middle"},[t._v(t._s(e.qty))]),a("td",{staticClass:"text-right align-middle"},[e.final_total===e.total?a("span",[t._v(t._s(t._f("currency")(e.total)))]):a("span",{staticClass:"text-success"},[t._v(t._s(t._f("currency")(e.final_total)))])])])})),0),a("tfoot",[t.carts.total!==t.carts.final_total?a("td",{staticClass:"text-right text-success",attrs:{colspan:"3"}},[t._v("折扣價")]):a("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),t.carts.total!==t.carts.final_total?a("td",{staticClass:"text-right text-success"},[t._v(t._s(t._f("currency")(t.carts.final_total)))]):a("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.carts.total)))])])])]),a("form",{staticClass:"border-bottom mb-5",on:{submit:function(e){return e.preventDefault(),t.createOrder(e)}}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("div",{staticClass:"input-group border-bottom"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control border-0",attrs:{type:"text",name:"name",placeholder:"您的真實姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}})])]),a("div",{staticClass:"form-group col-md-6"},[a("div",{staticClass:"input-group border-bottom"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control border-0",attrs:{type:"tel",name:"tel",placeholder:"手機或市話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}})])])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group border-bottom"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control border-0",attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group border-bottom mb-4"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control border-0",attrs:{type:"text",name:"address",placeholder:"請輸入住址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}})])]),a("div",{staticClass:"form-group"},[t._m(6),a("div",{staticClass:"form-row justify-content-center"},[a("div",{staticClass:"form-group col-md-5"},[a("div",{staticClass:"custom-control custom-radio custom-control-inline ml-5 ml-md-0"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",name:"delivery",id:"convenience-store",required:""},on:{change:function(e){t.convenience=!0}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"convenience-store"}},[t._v("到店取車")])])]),a("div",{staticClass:"form-group col-md-5"},[a("div",{staticClass:"custom-control custom-radio custom-control-inline"},[a("input",{staticClass:"custom-control-input",attrs:{type:"radio",name:"delivery",id:"home-delivery"},on:{change:function(e){t.convenience=!1}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"home-delivery"}},[t._v("配車到府")])])])])]),t.convenience?a("div",{staticClass:"form-group delivery"},[a("div",{staticClass:"input-group border-bottom mb-4"},[t._m(7),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.user.delivery,expression:"form.user.delivery"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"form-control border-0",attrs:{type:"text",name:"convenience",placeholder:"請填入分店名稱或地址"},domProps:{value:t.form.user.delivery},on:{input:function(e){e.target.composing||t.$set(t.form.user,"delivery",e.target.value)}}})])]):t._e(),a("div",{staticClass:"form-group"},[t._m(8),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"orderMessage",id:"orderMessage",cols:"30",rows:"10",placeholder:"歡迎留下額外訂單要求或改進建議"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._m(9)])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",{staticClass:"text-center border-bottom pb-3 m-0"},[a("span",[t._v("填寫資訊")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{attrs:{colspan:"2",width:"100"}},[t._v("品名")]),a("th",{staticClass:"text-right"},[t._v("天數")]),a("th",{staticClass:"text-right"},[t._v("總計")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text bg-white border-0"},[a("i",{staticClass:"fal fa-user"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text bg-white border-0"},[a("i",{staticClass:"fal fa-mobile-alt"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text bg-white border-0"},[a("i",{staticClass:"fal fa-envelope"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text bg-white border-0"},[a("i",{staticClass:"fal fa-home-lg"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",[a("i",{staticClass:"fal fa-house-return"}),a("i",{staticClass:"fal fa-shipping-fast p-3"}),a("span",{staticClass:"text-secondary"},[t._v("取車方式")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("div",{staticClass:"input-group-text bg-white border-0"},[a("i",{staticClass:"fal fa-igloo"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"orderMessage"}},[a("i",{staticClass:"fal fa-comment-alt p-3"}),t._v(" 留言 (選填) ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-outline-dark rounded-0 px-5 mb-5",attrs:{type:"submit"}},[t._v("送出訂單")])])}],o=(a("99af"),{data:function(){return{form:{user:{name:"",email:"",tel:"",address:"",delivery:""},message:""},convenience:!1,arrowRotate:!1}},methods:{createOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("asdfg1","/order"),a=t.form;t.$store.dispatch("updateLoading",!0),axios.post(e,{data:a}).then((function(e){e.data.success&&(t.$router.push("/cart/checkout/".concat(e.data.orderId)),t.$store.dispatch("getCarts"))}))},showCarts:function(){$(".carts").slideToggle(),this.arrowRotate=!this.arrowRotate}},computed:{carts:function(){return this.$store.state.carts}}}),i=o,l=(a("d37a"),a("2877")),n=Object(l["a"])(i,s,r,!1,null,"1d624680",null);e["default"]=n.exports},c39c:function(t,e,a){var s=a("1e30");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var r=a("499e").default;r("0f755e4e",s,!0,{sourceMap:!1,shadowMode:!1})},d37a:function(t,e,a){"use strict";var s=a("c39c"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-0317f0c4.2d95531f.js.map